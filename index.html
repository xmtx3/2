<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>五行助运穿衣</title>
    <style>
        :root { --ios-blue: #007AFF; --gold: #D4AF37; --bg-dark: #1C1C1E; }
        body { margin: 0; background: #F2F2F7; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; color: #1C1C1E; display: flex; justify-content: center; }
        .container { width: 100%; max-width: 414px; padding: 20px 20px 40px; box-sizing: border-box; }
        
        .header-card {
            background: linear-gradient(145deg, #2C2C2E 0%, #000000 100%);
            border-radius: 32px; 
            padding: 28px 20px;
            color: #E5C07B; margin-bottom: 25px; 
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
            border: 1px solid rgba(212, 175, 55, 0.4);
            text-align: center;
        }
        .header-title { 
            font-size: 34px; 
            font-weight: 900; 
            letter-spacing: 4px; 
            margin: 0;
            background: linear-gradient(to bottom, #F7E3A1, #D4AF37);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .header-subtitle { 
            font-size: 13px; 
            opacity: 0.5; 
            margin-top: 8px; 
            letter-spacing: 5px; 
            font-weight: 400;
        }

        .main-card { background: #FFFFFF; border-radius: 35px; padding: 30px 25px; box-shadow: 0 10px 40px rgba(0,0,0,0.06); position: relative; overflow: hidden; }
        
        .date-info { 
            font-size: 18px; 
            font-weight: 700; 
            color: #8E8E93; 
            margin-bottom: 25px; 
            display: flex; 
            align-items: center; 
            flex-wrap: wrap; 
            gap: 6px; 
            line-height: 1.4;
        }
        
        .week-tag { 
            color: var(--ios-blue); 
            font-weight: 800; 
            margin-left: auto; 
        }
        
        .time-tag { 
            font-variant-numeric: tabular-nums; 
            color: var(--ios-blue); 
            font-weight: 500; 
        }
        
        .color-box { display: flex; align-items: center; gap: 20px; margin: 30px 0; }
        .swatch { width: 90px; height: 90px; border-radius: 28px; box-shadow: 0 10px 20px rgba(0,0,0,0.1); flex-shrink: 0; transition: background 0.3s ease; }
        .color-title { font-size: 38px; font-weight: 900; margin: 0; line-height: 1; }
        
        .logic-panel { 
            background: #F8F8FA; padding: 20px; border-radius: 20px; line-height: 1.8; font-size: 15px; 
            border-left: 5px solid #AEAEB2; color: #48484A;
        }
        
        .nav-group { display: flex; gap: 12px; margin-top: 30px; }
        .btn { 
            flex: 1; height: 55px; border-radius: 18px; border: none; background: white; 
            font-weight: 700; font-size: 16px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); 
            cursor: pointer; -webkit-tap-highlight-color: transparent; 
        }
        .btn:active { transform: scale(0.96); background: #F2F2F7; }
        .btn-today { background: var(--ios-blue); color: white; width: 100%; margin-top: 12px; }
        .btn-today:active { background: #0056B3; }

        /* --- 新增版权样式 --- */
        .footer {
            text-align: center;
            font-size: 12px;
            color: #C7C7CC; /* 浅灰色，视觉上不干扰主内容 */
            margin-top: 30px;
            font-weight: 500;
            letter-spacing: 0.5px;
        }
    </style>
</head>
<body>

<div class="container">
    <div class="header-card">
        <h1 class="header-title">五行助运穿衣</h1>
        <div class="header-subtitle">DAILY ENERGY</div>
    </div>

    <div class="main-card">
        <div id="curDate" class="date-info">加载中...</div>
        <div class="color-box">
            <div id="swatch" class="swatch"></div>
            <div>
                <h1 id="cName" class="color-title">--色</h1>
                <div style="color:#AEAEB2; font-size:14px; margin-top:8px; font-weight: 500;">今日推荐开运色</div>
            </div>
        </div>
        <div class="logic-panel" id="logic">正在推演今日气场...</div>
    </div>

    <div class="nav-group">
        <button class="btn" onclick="move(-1)">前一天</button>
        <button class="btn" onclick="move(1)">后一天</button>
    </div>
    <button class="btn btn-today" onclick="reset()">回到今天</button>

    <div class="footer">
        © 2026 版权所有 dy : 小茗同学
    </div>
</div>

<script>
    const Z = ["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"];
    const G = ["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"];
    const W = ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"];
    
    // 锚点日期
    const ANCHOR = { d: new Date(2025, 11, 28), g: 7, z: 7 }; 

    const RULES = {
        "寅": {c:"红色", h:"#FF3B30", l:"今日木气生发，宜穿红色系泄木生火，提振能量。"},
        "卯": {c:"红色", h:"#FF3B30", l:"今日木气当令，宜穿红色，助运势红火、心情舒畅。"},
        "辰": {c:"白色", h:"#FFFFFF", l:"今日土气较重，宜穿白色系，清爽利落，利于释放压力。"},
        "巳": {c:"黄色", h:"#FFCC00", l:"今日火气升腾，宜穿黄色、暖色调，主稳重平和。"},
        "午": {c:"黄色", h:"#FFCC00", l:"今日午火燥烈，宜以土色调和，助力职场社交。"},
        "未": {c:"白色", h:"#FFFFFF", l:"今日土气旺盛，穿白色系能净化磁场，助益贵人运。"},
        "申": {c:"黑色", h:"#1C1C1E", l:"今日金气肃杀，宜穿黑色深色系，以水化金，主智慧。"},
        "酉": {c:"黑色", h:"#1C1C1E", l:"今日金气强旺，穿深色衣服能圆润磁场，利于守财。"},
        "戌": {c:"白色", h:"#FFFFFF", l:"今日戌土厚重，穿白色亮色系可点亮心情，提升效率。"},
        "亥": {c:"绿色", h:"#34C759", l:"今日水旺之象，宜穿绿色系，生机盎然，利于创意。"},
        "子": {c:"绿色", h:"#34C759", l:"今日子水灵动，穿绿色可增强亲和力，顺遂平安。"},
        "丑": {c:"白色", h:"#FFFFFF", l:"今日丑土湿寒，白色系能提振阳光能量，驱散阴霾。"}
    };

    let displayDate = new Date();

    function render() {
        const d1 = new Date(displayDate.getFullYear(), displayDate.getMonth(), displayDate.getDate());
        const d2 = new Date(ANCHOR.d.getFullYear(), ANCHOR.d.getMonth(), ANCHOR.d.getDate());
        const diff = Math.round((d1 - d2) / 86400000);

        const gi = ((ANCHOR.g + diff) % 10 + 10) % 10;
        const zi = ((ANCHOR.z + diff) % 12 + 12) % 12;
        const info = RULES[Z[zi]];
        const weekDay = W[displayDate.getDay()];
        
        const now = new Date();
        const hh = String(now.getHours()).padStart(2, '0');
        const mm = String(now.getMinutes()).padStart(2, '0');
        const ss = String(now.getSeconds()).padStart(2, '0');
        const timeStr = `${hh}:${mm}:${ss}`;

        document.getElementById('curDate').innerHTML = 
            `<span>${displayDate.toLocaleDateString('zh-CN', {month:'long', day:'numeric'})}</span>` +
            `<span style="margin:0 4px; opacity:0.3;">|</span>` +
            `<span>${G[gi]}${Z[zi]}日</span>` +
            `<span class="week-tag">${weekDay}</span>` +
            `<span class="time-tag">${timeStr}</span>`;

        document.getElementById('cName').innerText = info.c;
        document.getElementById('swatch').style.backgroundColor = info.h;
        document.getElementById('swatch').style.border = info.c === "白色" ? "1px solid #ddd" : "none";
        document.getElementById('cName').style.color = info.h === "#FFFFFF" ? "#1C1C1E" : info.h;

        document.getElementById('logic').innerHTML = 
            `<b>今日能量：</b>地支为<b>${Z[zi]}</b>。<br>` +
            `<b>建议指导：</b>${info.l}`;
    }

    function move(n) { displayDate.setDate(displayDate.getDate() + n); render(); }
    function reset() { displayDate = new Date(); render(); }
    
    setInterval(render, 1000);
    render();
</script>
</body>
</html>
